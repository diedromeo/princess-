<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Princess Sid â€” Deluxe Surprise ðŸ’–</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap');

:root{--pink1:#ffb6d2;--pink2:#ff69b4;--deep:#d81b60;--gold:#e6c07b}
*{box-sizing:border-box;margin:0;padding:0}
html,body{
 height:100%; background:#000; color:#fff;
 font-family:Poppins,system-ui,Arial; overflow-x:hidden;
}
.wrapper{
 width:820px; max-width:96vw; margin:auto;
 padding-top:60px; position:relative;
}

/* MOBILE FIX â€” ONLY THIS */
@media(max-width:640px){
 #envCanvas{height:340px;}
 .wrapper{padding-top:20px;}
 #instruction span{font-size:48px;}
}

#envCanvas{width:100%;height:460px;border-radius:16px;transition:opacity .4s}

#instruction{
 position:absolute; left:50%; top:50%;
 transform:translate(-50%,-50%);
 color:var(--pink1); font-weight:700; text-align:center;
}

/* SIGNATURE MODAL */
#sigModal{
 position:fixed; inset:0; background:rgba(0,0,0,.85);
 display:flex; align-items:center; justify-content:center;
 visibility:hidden; opacity:0; transition:.25s; z-index:50;
}
#sigModal.show{visibility:visible;opacity:1}

.sigCard{
 width:88%; max-width:720px; background:#111;
 border-radius:16px; padding:20px;
 border:1px solid rgba(255,255,255,0.1);
}

#sigCanvas{
 width:100%; height:130px; background:#080808;
 border-radius:10px; border:2px solid rgba(255,105,180,0.2);
 touch-action:none;
}

.btn{padding:10px 16px;border-radius:999px;font-weight:700;border:none;cursor:pointer}
.btnClear{background:#111;color:var(--pink1)}
.btnConfirm{background:#ff69b4;color:#fff}

/* GIF BOX â€” MOBILE FIX & CENTER FIX */
#gifBox{
 position:fixed;
 left:50%; top:50%; transform:translate(-50%,-50%);
 width:95vw; max-width:1100px;
 height:auto; max-height:85vh;
 background:#000; padding:6px;
 border-radius:14px; display:none;
 border:1px solid rgba(255,255,255,0.15);
 z-index:40;
}
#gifImg{
 width:100%; height:auto;
 max-height:82vh;
 object-fit:contain;
 opacity:0; transition:.25s;
}

/* PNG 6-second box */
#holdImageBox{
 position:fixed; left:50%; top:50%;
 transform:translate(-50%,-50%);
 width:95vw; max-width:1100px;
 max-height:85vh; padding:6px;
 background:#000; border-radius:14px;
 border:1px solid rgba(255,255,255,0.15);
 display:none; z-index:41;
}
#holdImage{
 width:100%;height:auto;max-height:82vh;
 object-fit:contain; display:block;
}

/* CERT + LETTER */
.revealWrap{
 position:fixed; left:50%; top:50%;
 transform:translate(-50%,-50%);
 width:100%; z-index:45; pointer-events:none;
}
#certificate,#letter{
 width:min(90%,720px);
 margin:20px auto; padding:20px;
 background:#111; border-radius:16px;
 border:1px solid rgba(255,105,180,0.2);
 opacity:0; transform:translateY(40px);
 display:none; transition:.5s; pointer-events:auto;
}

.certBox{
 background:#181818; padding:18px;
 border-radius:14px; border:3px solid var(--deep);
 text-align:center; position:relative;
}
.certBox::after{
 content:"SEALED"; position:absolute;
 top:20px; right:20px;
 font-family:'Dancing Script'; font-size:33px;
 color:var(--pink2);
 padding:4px 12px; border:3px double var(--pink2);
 border-radius:8px; transform:rotate(8deg);
}

/* EMOJIS */
.floatEmoji{
 position:fixed; bottom:-10px;
 font-size:38px; opacity:0;
 animation:floatUp 5s linear forwards;
 z-index:70;
}
@keyframes floatUp{
 0%{transform:translateY(0) scale(.5);opacity:0;}
 20%{opacity:1;}
 100%{transform:translateY(-100vh) scale(1);opacity:0;}
}
</style>

</head>
<body>

<div class="wrapper" id="wrap">
 <canvas id="envCanvas"></canvas>

 <div id="instruction">
   <span style="font-size:60px;display:block;margin-bottom:10px;">ðŸŽ€</span>
   Click the envelope to open âœ¨
 </div>

 <div id="sigModal">
  <div class="sigCard">
   <h2 style="font-family:'Dancing Script';color:var(--deep);text-align:center;margin-bottom:10px">
     Princess Sid, please sign your Royal Autograph
   </h2>
   <canvas id="sigCanvas"></canvas>

   <div style="text-align:center;margin-top:12px">
     <button class="btn btnClear" id="clearSig">Clear</button>
     <button class="btn btnConfirm" id="confirmSig">Confirm</button>
   </div>

   <div id="sigMsg" style="text-align:center;margin-top:10px;color:var(--pink1)"></div>
  </div>
 </div>
</div>

<!-- GIF BOX -->
<div id="gifBox"><img id="gifImg"></div>

<!-- PNG BOX -->
<div id="holdImageBox"><img id="holdImage" src="image.png"></div>

<div class="revealWrap">
 <div id="certificate">
   <div class="card">
     <h2 style="font-family:'Dancing Script';color:var(--deep);font-size:30px">ðŸŽ€ Official Princess Certificate</h2>
     <div class="certBox">
       <p style="color:#ffdcec;font-size:17px">
         This certifies that <b style="color:#ff9cdc">Sid</b> is a true Princess â€”
         soft, strong, talented, deserving of everything beautiful.
       </p>
       <div id="sigPlaced"></div>
     </div>
   </div>
 </div>

 <div id="letter">
   <div class="card">
     <h2 style="font-family:'Dancing Script';color:var(--deep);font-size:30px">ðŸ’Œ A Note For You</h2>
     <p style="color:#f4c6e0;line-height:1.6;font-size:17px">
       Sidâ€¦ youâ€™re really a bunch of cuteness and strength.  
       Tum itni mehnat karti ho â€” it's beautiful. ðŸ’—<br><br>
       Stress hota hai but itâ€™s okayâ€¦ breathe. Stay calm. Stay soft.  
       Everything you want will come. ðŸ’•<br><br>
       Main hamesha proud hoon â€” never doubt your worth, Princess. ðŸ‘‘ðŸ’ž
     </p>
   </div>
 </div>
</div>

<audio id="gifMusic" src="https://quotesgames.com/files/I-Think-They-Call-This-Love-Matthew-Ifield-Cover.mp3"></audio>
<audio id="letterMusic" src="https://download.downringtone.com/audio/e9685a2856feb05f00d911fe07dbde95/L3TkhLK4TBF2bJp0R7toMkC1RXE3WL8zOlC8Uak7L1H1inzSigliM3lmgZ00Q3BudXzalQVlcZCwWtpqcj3Hf8j1kvlvb6V0htc3Y3BwPr73U5==.mp3"></audio>

<script>
const wrap=document.getElementById("wrap");
const canvas=document.getElementById("envCanvas");
const ctx=canvas.getContext("2d");
const sigModal=document.getElementById("sigModal");
const sigCanvas=document.getElementById("sigCanvas");
const sigCtx=sigCanvas.getContext("2d");
const confirmBtn=document.getElementById("confirmSig");
const clearBtn=document.getElementById("clearSig");
const sigMsg=document.getElementById("sigMsg");
const gifBox=document.getElementById("gifBox");
const gifImg=document.getElementById("gifImg");
const holdImageBox=document.getElementById("holdImageBox");
const certificate=document.getElementById("certificate");
const letter=document.getElementById("letter");
const sigPlaced=document.getElementById("sigPlaced");
const gifMusic=document.getElementById("gifMusic");
const letterMusic=document.getElementById("letterMusic");

let drawn=false,signing=false;

const gifs=[
 "https://64.media.tumblr.com/a35bdef48388e8a53ba334f4c3729eb5/cf7ffbf099b9bbcb-9d/s640x960/44161faf6427137625849ddf2a016c71e8cc36ec.gif",
 "https://i.pinimg.com/originals/0e/bd/86/0ebd8658f7610a409cdce22341cb2125.gif",
 "https://i.pinimg.com/originals/d0/59/38/d05938855efab24f43c756b280f08787.gif",
 "https://64.media.tumblr.com/c2106e621e3e17b6fde6e17f889227f7/cf7ffbf099b9bbcb-5e/s500x750/cd638aa91ad60f515de1871bf179b6325d91bb56.gif"
];

function resizeAll(){
 let r=wrap.getBoundingClientRect();
 canvas.width=r.width*devicePixelRatio;
 canvas.height=460*devicePixelRatio;
 canvas.style.width=r.width+"px";
}
resizeAll();
window.onresize=resizeAll;

canvas.onclick=()=>sigModal.classList.add("show");

/* SIGNATURE DRAWING */
sigCanvas.onpointerdown=e=>{
 signing=true; drawn=true; sigMsg.textContent="";
 const r=sigCanvas.getBoundingClientRect();
 sigCtx.beginPath();
 sigCtx.moveTo(e.clientX-r.left,e.clientY-r.top);
};
sigCanvas.onpointermove=e=>{
 if(!signing)return;
 const r=sigCanvas.getBoundingClientRect();
 sigCtx.lineWidth=5; sigCtx.strokeStyle="#ff69b4";
 sigCtx.lineTo(e.clientX-r.left,e.clientY-r.top); sigCtx.stroke();
 sigCtx.beginPath();
 sigCtx.moveTo(e.clientX-r.left,e.clientY-r.top);
};
sigCanvas.onpointerup=()=>signing=false;

clearBtn.onclick=()=>{sigCtx.clearRect(0,0,sigCanvas.width,sigCanvas.height); drawn=false;}

/* MUSIC HELPERS */
function fadeIn(a){
 a.volume=0; a.currentTime=0; a.play().catch(()=>{});
 let x=0; let iv=setInterval(()=>{
   x+=0.08; a.volume=x;
   if(x>=1)clearInterval(iv);
 },40);
}
function fadeOut(a){
 let x=a.volume; let iv=setInterval(()=>{
   x-=0.08; a.volume=x;
   if(x<=0){a.pause();clearInterval(iv);}
 },40);
}

/* CONFIRM */
confirmBtn.onclick=()=>{
 if(!drawn){sigMsg.textContent="Sign first!";return;}
 sigModal.classList.remove("show");
 fadeIn(gifMusic);
 setTimeout(()=>playGIF(0),400);
};

/* GIF ANIMATION â€” FIXED SPEED */
function playGIF(i){
 if(i>=gifs.length){
   fadeOut(gifMusic);
   showPNG6s();
   return;
 }
 gifBox.style.display="block";
 gifImg.style.opacity=0;
 let img=new Image();
 img.onload=()=>{
   gifImg.src=gifs[i];
   setTimeout(()=>gifImg.style.opacity=1,40);
   setTimeout(()=>{
      gifImg.style.opacity=0;
      setTimeout(()=>playGIF(i+1),150); // FASTER switch
   },1200); // FASTER show
 };
 img.onerror=()=>playGIF(i+1);
 img.src=gifs[i];
}

/* PNG 6 SECOND DISPLAY */
function showPNG6s(){
 gifBox.style.display="none";
 holdImageBox.style.display="block";
 setTimeout(()=>{
   holdImageBox.style.display="none";
   showCert();
 },6000);
}

/* CERT + LETTER */
function showCert(){
 try{
   const d=sigCanvas.toDataURL();
   sigPlaced.innerHTML=`<img src="${d}" style="height:40px">`;
 }catch{}

 certificate.style.display="block";
 setTimeout(()=>{
   certificate.style.opacity=1;
   certificate.style.transform="translateY(0)";
 },30);

 setTimeout(()=>fadeIn(letterMusic),300);

 setTimeout(()=>{
   letter.style.display="block";
   setTimeout(()=>{
     letter.style.opacity=1;
     letter.style.transform="translateY(0)";
   },30);
 },700);

 startEmojis();
}

/* FLOAT EMOJIS */
function startEmojis(){
 setInterval(()=>{
  const e=document.createElement("div");
  e.className="floatEmoji";
  e.textContent=["ðŸŽ€","ðŸ’•","âœ¨","ðŸ’—","ðŸ‘‘","ðŸŒ¸","ðŸ’Œ","ðŸ©·","ðŸ±"][Math.floor(Math.random()*9)];
  e.style.left=(6+Math.random()*88)+"vw";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),5200);
 },350);
}
</script>

</body>
</html>
