<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Princess Sid â€” Deluxe Surprise ðŸ’–</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap');

:root{--pink1:#ffb6d2;--pink2:#ff69b4;--deep:#d81b60}
*{box-sizing:border-box;margin:0;padding:0}
html,body{background:#000;color:#fff;font-family:Poppins,Arial;overflow-x:hidden}
.wrapper{width:820px;max-width:96vw;margin:auto;padding-top:60px;position:relative}

/* Envelope */
#envCanvas{
 width:100%;
 height:460px;
 border-radius:16px;
}

/* Instruction â€” black text, now click-through */
#instruction{
 position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
 color:#000;font-weight:700;text-align:center;
 text-shadow:0 0 4px rgba(255,255,255,0.8);
 pointer-events:none; /* IMPORTANT: don't block clicks on envelope */
}

/* Signature modal */
#sigModal{
 position:fixed;inset:0;background:rgba(0,0,0,.85);
 display:flex;justify-content:center;align-items:center;
 opacity:0;visibility:hidden;transition:.25s;z-index:60;
}
#sigModal.show{opacity:1;visibility:visible;}

.sigCard{
 background:#111;padding:20px;border-radius:16px;
 width:90%;max-width:720px;border:1px solid rgba(255,255,255,.1);
}
#sigCanvas{
 width:100%;height:130px;background:#080808;
 border-radius:12px;border:2px solid rgba(255,105,180,.2);
 touch-action:none;
}

/* Buttons */
.btn{padding:10px 16px;border-radius:999px;border:none;cursor:pointer;font-weight:700}
.btnClear{background:#111;color:var(--pink1)}
.btnConfirm{background:var(--pink2);color:#fff}

/* GIF Box â€” fixed center */
#gifBox{
 position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
 width:95vw;max-width:1100px;max-height:85vh;
 background:#000;border-radius:14px;padding:10px;
 border:1px solid rgba(255,255,255,.15);
 display:none;z-index:30;
 display:flex;justify-content:center;align-items:center;
}
#gifImg{
 width:100%;height:auto;max-height:80vh;object-fit:contain;opacity:0;
 transition:.25s;
}

/* PNG overlay â€” NO HEART FRAME */
#holdImageBox{
 position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
 width:95vw;max-width:1100px;max-height:85vh;
 display:none;z-index:40;
}
#holdInnerFrame{
 padding:16px;border-radius:20px;
 background:radial-gradient(circle at top,#2b0b26,#05040a);
 animation:pulseGlow 1.8s ease-in-out infinite;
 position:relative;
}
#holdImage{
 width:100%;max-height:55vh;object-fit:contain;display:block;margin:auto;
}

/* Floating roses */
.roseFloat{
 position:absolute;font-size:22px;opacity:0;
 pointer-events:none;
 animation:roseFloat 4s ease-out forwards;
}

/* Heart trail */
.heartTrail{
 position:absolute;font-size:18px;animation:heartTrail 1.2s ease-out forwards;
 pointer-events:none;
}

/* PNG Text */
#pngMessage{
 text-align:center;color:#ffd6f5;font-size:18px;margin-top:6px;
}
#pngSparkle{
 text-align:center;margin-top:4px;
 font-size:20px;color:#ffb3d9;
 animation:sparkle 1.1s infinite alternate ease-in-out;
}

/* CERT + LETTER */
.revealWrap{
 position:fixed;left:50%;top:50%;
 transform:translate(-50%,-50%);
 width:100%;pointer-events:none;z-index:45;
}
#certificate,#letter{
 width:min(90%,720px);margin:20px auto;background:#111;
 padding:20px;border-radius:16px;border:1px solid rgba(255,105,180,.2);
 opacity:0;transform:translateY(40px);transition:.5s;display:none;pointer-events:auto;
}
.certBox{
 background:#181818;border-radius:14px;padding:18px;border:3px solid var(--deep);
 position:relative;text-align:center;
}

/* SEALED moved to bottom, not overlapping */
.certBox::after{
 content:"SEALED";
 position:absolute;
 bottom:10px;
 left:50%;
 transform:translateX(-50%);
 font-family:'Dancing Script';
 font-size:22px;
 color:var(--pink2);
 padding:4px 12px;
 border:2px double var(--pink2);
 border-radius:8px;
 background:rgba(0,0,0,0.4);
}

/* Emojis up */
.floatEmoji{
 position:fixed;bottom:-10px;font-size:36px;
 animation:floatUp 5s ease-out forwards;opacity:0;
}
@keyframes floatUp{
 0%{transform:translateY(0) scale(.5);opacity:0;}
 20%{opacity:1;}
 100%{transform:translateY(-100vh) scale(1);opacity:0;}
}

/* Animations */
@keyframes pulseGlow{
 0%{box-shadow:0 0 10px rgba(255,105,180,.5);}
 50%{box-shadow:0 0 25px rgba(255,105,180,.9);}
 100%{box-shadow:0 0 10px rgba(255,105,180,.5);}
}
@keyframes roseFloat{
 0%{transform:translateY(0) scale(.8);opacity:0;}
 20%{opacity:1;}
 100%{transform:translateY(-70px) scale(1.1);opacity:0;}
}
@keyframes heartTrail{
 0%{opacity:1;transform:scale(1);}
 100%{opacity:0;transform:scale(1.6);}
}
@keyframes sparkle{
 0%{opacity:.5;transform:scale(1);}
 100%{opacity:1;transform:scale(1.12);}
}
</style>
</head>

<body>

<div class="wrapper" id="wrap">
 <canvas id="envCanvas"></canvas>

 <div id="instruction">
   <span style="font-size:60px;display:block;margin-bottom:10px;">ðŸŽ€</span>
   Click the envelope to open âœ¨
 </div>

 <div id="sigModal">
  <div class="sigCard">
   <h2 style="font-family:'Dancing Script';color:var(--deep);text-align:center">
     Princess Sid, please sign your Royal Autograph
   </h2>
   <canvas id="sigCanvas"></canvas>
   <div style="text-align:center;margin-top:10px;">
     <button class="btn btnClear" id="clearSig">Clear</button>
     <button class="btn btnConfirm" id="confirmSig">Confirm</button>
   </div>
   <div id="sigMsg" style="text-align:center;color:var(--pink1);margin-top:6px;"></div>
  </div>
 </div>
</div>

<!-- GIF -->
<div id="gifBox"><img id="gifImg"></div>

<!-- PNG overlay -->
<div id="holdImageBox">
 <div id="holdInnerFrame">
   <img id="holdImage" src="image.png">
   <div id="pngMessage">Hold on Princess Sidâ€¦</div>
   <div id="pngSparkle">âœ¨ Happy Princess Day Princess Sid âœ¨</div>
 </div>
</div>

<!-- Certificate + Letter -->
<div class="revealWrap">
 <div id="certificate">
   <div class="card">
     <h2 style="font-family:'Dancing Script';color:var(--deep);font-size:30px">
       ðŸŽ€ Official Princess Certificate
     </h2>
     <div class="certBox">
       <p style="color:#ffdcec;font-size:17px;line-height:1.55;">
         This certifies that <b style="color:#ff9cdc">Sid</b> is a true Princess â€” soft, strong, talented, and deserving of everything beautiful.
       </p>
       <div id="sigPlaced"></div>
     </div>
   </div>
 </div>

 <div id="letter">
   <div class="card">
     <h2 style="font-family:'Dancing Script';color:var(--deep);font-size:30px;margin:0">
       ðŸ’Œ A Note For You
     </h2>

     <p style="color:#f4c6e0;line-height:1.6;font-size:17px;margin-top:12px;white-space:pre-line;">
Sidâ€¦ youâ€™re really a bunch of cuteness and strength. Tum itni mehnat karti ho â€” it's beautiful. ðŸ’—

Stress hota hai but itâ€™s okayâ€¦ breathe. Stay calm. Stay soft. Everything you want will come. ðŸ’•

Main hamesha proud hoon â€” never doubt your worth, Princess. ðŸ‘‘ðŸ’ž
     </p>
   </div>
 </div>
</div>

<!-- MUSIC -->
<audio id="gifMusic" src="https://quotesgames.com/files/I-Think-They-Call-This-Love-Matthew-Ifield-Cover.mp3"></audio>
<audio id="letterMusic"
src="https://download.downringtone.com/audio/e9685a2856feb05f00d911fe07dbde95/L3TkhLK4TBF2bJp0R7toMkC1RXE3WL8zOlC8Uak7L1H1inzSigliM3lmgZ00Q3BudXzalQVlcZCwWtpqcj3Hf8j1kvlvb6V0htc3Y3BwPr73U5==.mp3">
</audio>

<script>
/* Variables */
const wrap=document.getElementById("wrap");
const canvas=document.getElementById("envCanvas");
const ctx=canvas.getContext("2d");
const sigModal=document.getElementById("sigModal");
const sigCanvas=document.getElementById("sigCanvas");
const sigCtx=sigCanvas.getContext("2d");
const gifBox=document.getElementById("gifBox");
const gifImg=document.getElementById("gifImg");
const holdImageBox=document.getElementById("holdImageBox");
const holdInnerFrame=document.getElementById("holdInnerFrame");
const certificate=document.getElementById("certificate");
const letter=document.getElementById("letter");
const gifMusic=document.getElementById("gifMusic");
const letterMusic=document.getElementById("letterMusic");
const sigPlaced=document.getElementById("sigPlaced");
const sigMsg=document.getElementById("sigMsg");

let drawn=false,signing=false;

/* GIF list */
const gifs=[
 "https://64.media.tumblr.com/a35bdef48388e8a53ba334f4c3729eb5/cf7ffbf099b9bbcb-9d/s640x960/44161faf6427137625849ddf2a016c71e8cc36ec.gif",
 "https://i.pinimg.com/originals/0e/bd/86/0ebd8658f7610a409cdce22341cb2125.gif",
 "https://i.pinimg.com/originals/d0/59/38/d05938855efab24f43c756b280f08787.gif",
 "https://64.media.tumblr.com/c2106e621e3e17b6fde6e17f889227f7/cf7ffbf099b9bbcb-5e/s500x750/cd638aa91ad60f515de1871bf179b6325d91bb56.gif"
];

/* Resize envelope + signature */
function resizeAll(){
 canvas.width=wrap.clientWidth*devicePixelRatio;
 canvas.height=460*devicePixelRatio;
 canvas.style.width="100%";
 ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
 drawEnv();

 sigCanvas.width=canvas.width;
 sigCanvas.height=130*devicePixelRatio;
 sigCanvas.style.height="130px";
 sigCtx.lineCap="round";
 sigCtx.lineJoin="round";
}
resizeAll();
window.onresize=resizeAll;

/* Draw envelope */
function drawEnv(){
 let w=canvas.width/devicePixelRatio;
 let h=canvas.height/devicePixelRatio;
 let flap=h*0.42;

 ctx.clearRect(0,0,w,h);
 ctx.fillStyle="#ffd1dc";
 ctx.fillRect(0,flap/2,w,h);

 ctx.beginPath();
 ctx.moveTo(0,h);ctx.lineTo(w/2,h-flap/2);ctx.lineTo(w,h);ctx.fill();

 ctx.fillStyle="#ffb6c1";
 ctx.beginPath();
 ctx.moveTo(0,0);ctx.lineTo(w,0);ctx.lineTo(w/2,flap);ctx.fill();
}

/* Open signature modal */
canvas.onclick=()=>sigModal.classList.add("show");

/* Signature draw */
sigCanvas.onpointerdown=e=>{
 signing=true;drawn=true;sigMsg.textContent="";
 let r=sigCanvas.getBoundingClientRect();
 sigCtx.beginPath();
 sigCtx.moveTo(e.clientX-r.left,e.clientY-r.top);
};
sigCanvas.onpointermove=e=>{
 if(!signing)return;
 let r=sigCanvas.getBoundingClientRect();
 sigCtx.lineWidth=4;sigCtx.strokeStyle="#ff69b4";
 sigCtx.lineTo(e.clientX-r.left,e.clientY-r.top);sigCtx.stroke();
 sigCtx.beginPath();
 sigCtx.moveTo(e.clientX-r.left,e.clientY-r.top);
};
sigCanvas.onpointerup=()=>signing=false;

document.getElementById("clearSig").onclick=()=>{
 sigCtx.clearRect(0,0,sigCanvas.width,sigCanvas.height);
 drawn=false;
};

/* Music fades */
function fadeIn(a){
 a.volume=0;a.currentTime=0;a.play().catch(()=>{});
 let x=0;let I=setInterval(()=>{x+=0.06;a.volume=x;if(x>=1)clearInterval(I)},50);
}
function fadeOut(a){
 let x=a.volume;let I=setInterval(()=>{x-=0.06;a.volume=x;if(x<=0){a.pause();clearInterval(I)}} ,50);
}

/* Confirm signature */
document.getElementById("confirmSig").onclick=()=>{
 if(!drawn){sigMsg.textContent="Please sign first!";return;}

 sigModal.classList.remove("show");
 canvas.style.opacity=0;instruction.style.opacity=0;

 setTimeout(()=>{canvas.style.display="none"},400);

 fadeIn(gifMusic);

 // small delay so envelope fully gone before GIF shows
 setTimeout(()=>playGIF(0),550);
};

/* Play GIFs */
function playGIF(i){
 if(i>=gifs.length){
   fadeOut(gifMusic);
   showPNGScreen();
   return;
 }

 gifBox.style.display="flex";
 gifImg.style.opacity=0;

 let temp=new Image();
 temp.onload=()=>{
   gifImg.src=gifs[i];
   setTimeout(()=>gifImg.style.opacity=1,50);
   setTimeout(()=>{
     gifImg.style.opacity=0;
     setTimeout(()=>playGIF(i+1),150);
   },1200);
 };
 temp.onerror=()=>playGIF(i+1);
 temp.src=gifs[i];
}

/* Show PNG screen */
function showPNGScreen(){
 gifBox.style.display="none";
 holdImageBox.style.display="block";

 fadeIn(letterMusic); // start 2nd song immediately

 startRoses();
 enableHeartDrawing();

 setTimeout(()=>{
   holdImageBox.style.display="none";
   showCertificate();
 },6000);
}

let roseTimer=null;

/* Floating roses */
function startRoses(){
 if(roseTimer) return;
 roseTimer=setInterval(()=>{
   let r=document.createElement("div");
   r.className="roseFloat";
   r.textContent="ðŸŒ¹";
   let rect=holdInnerFrame.getBoundingClientRect();
   let x=Math.random()*(rect.width-30);
   let y=rect.height-40;
   r.style.left=x+"px";
   r.style.top=y+"px";
   holdInnerFrame.appendChild(r);
   setTimeout(()=>r.remove(),4000);
 },350);
}

function enableHeartDrawing(){
 holdInnerFrame.onpointermove=(e)=>{
   let rect=holdInnerFrame.getBoundingClientRect();
   let x=e.clientX-rect.left;
   let y=e.clientY-rect.top;
   if(x<0||y<0||x>rect.width||y>rect.height)return;
   let h=document.createElement("div");
   h.className="heartTrail";
   h.textContent="ðŸ’–";
   h.style.left=(x-8)+"px";
   h.style.top=(y-8)+"px";
   holdInnerFrame.appendChild(h);
   setTimeout(()=>h.remove(),1200);
 };
}

/* Certificate */
function showCertificate(){
 try{
   let d=sigCanvas.toDataURL();
   sigPlaced.innerHTML=`<img src="${d}" style="height:40px">`;
 }catch{}

 certificate.style.display="block";
 setTimeout(()=>{
   certificate.style.opacity=1;
   certificate.style.transform="translateY(0)";
 },40);

 setTimeout(()=>{
   letter.style.display="block";
   setTimeout(()=>{
     letter.style.opacity=1;
     letter.style.transform="translateY(0)";
   },40);
 },600);

 startEmojis();
}

/* floating emojis */
function startEmojis(){
 setInterval(()=>{
   let e=document.createElement("div");
   e.className="floatEmoji";
   e.textContent=["ðŸŽ€","ðŸ’•","ðŸ©·","âœ¨","ðŸ’—","ðŸ‘‘","ðŸ’Œ","ðŸ¥°","ðŸŒ¸","ðŸ±"][Math.floor(Math.random()*10)];
   e.style.left=(10+Math.random()*80)+"vw";
   document.body.appendChild(e);
   setTimeout(()=>e.remove(),5000);
 },350);
}
</script>
</body>
</html>
